!function($){"use strict";function notice(response,$target){var $notice;response.data&&($notice=$('<div class="notice '+selector+'__notice"><p>'+response.data+"</p></div>"),response.success?$notice.addClass("notice-success"):$notice.addClass("notice-error"),$target.after($notice))}function onFormSubmit($form){$form.preventDefault();var $h1=($form=$(this)).closest(".wrap").find("h1"),$button=$form.find(".button"),$spinner=$form.find(".spinner");$h1.nextAll(noticeSelector).remove(),$button.prop("disabled",!0),$spinner.addClass("is-active"),$.post($form.attr("action"),$form.serialize()).always(function(response){notice(response,$h1),$button.prop("disabled",!1),$spinner.removeClass("is-active")})}function onLinkClick(event){event.preventDefault();var $link=$(this),$h1=$link.closest(".wrap").find("h1").nextAll(".wp-header-end"),$spinner=$link.next(linkSelector+"-spinner");$h1.nextAll(noticeSelector).remove(),$link.hide(),$spinner.show(),$.get($link.attr("href")).always(function(response){notice(response,$h1),$spinner.hide(),$link.show()})}window.innocodeFlushCache=window.innocodeFlushCache||{};var selector=window.innocodeFlushCache.selector||"",formSelector="."+selector+"__form",linkSelector="."+selector+"__link",noticeSelector="."+selector+"__notice";$(function(){$(formSelector).on("submit",onFormSubmit),$(linkSelector).on("click",onLinkClick)})}(jQuery);